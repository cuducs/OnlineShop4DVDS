<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"

      xmlns:c="http://java.sun.com/jsp/jstl/core">
    <h:body>
        <ui:composition>
            <div id="sidecol" class="sidecol">
                <div class="notepad">
                    <div class="inner">
                        <h2 class="heading info-for-all">
                            <span></span>information for all new customers...</h2>
                        <p>
                            To order with Abel &amp; Cole you will need to create an account...</p>
                        <p class="list-intro">
                            For this, you'll need</p>
                        <ol class="info-for-new">
                            <li>A valid email address</li>
                            <li>A valid delivery address</li>
                        </ol>
                        <p>
                            Please have to hand your credit/debit card, full address and contact details.</p>
                        <p>
                            <a href="">Need more help? Click here.</a></p>
                    </div>
                </div>
                <div style="overflow: hidden;">
                </div>
                <div id="box-basket">
                    <div class="notepad shopping-basket">
                        <div class="inner">
                            <h2 class="heading">
                                <span></span>shopping basket
                            </h2>
                            <div class="totals">
                                <span class="items"><span>#{cartManagedBean.totalItems} items in basket' </span></span><span class="cost"><span>
                                        Total = £ #{cartManagedBean.total} </span></span>
                            </div>
                            <table class="tbl-basket">
                                <thead>
                                    <tr>
                                        <td colspan="3" class="head">
                                        </td>
                                    </tr>
                                </thead>
                                <tbody>
                                    <c:forEach items="#{cartManagedBean.listCart}" var="item">
                                        <tr>
                                            <td class="col-qty">
                                                <h:form>
                                                    <h:commandLink class="delete" value="-" action="#{cartManagedBean.removeOne(item.product.id)}"></h:commandLink>
                                                    <span class="qty">${item.count}</span>
                                                    <h:commandLink class="add" value="+" action="#{cartManagedBean.addOne(item.product.id)}"></h:commandLink>
                                                </h:form>
                                            </td>
                                            <td class="col-item">
                                                ${item.product.title}
                                            </td>
                                            <td class="col-price">
                                                <span class="price">£ ${item.product.price}</span>
                                                <h:form>
                                                    <h:commandLink class="remove" value="remove" action="#{cartManagedBean.removeAll(item.product.id)}"></h:commandLink>
                                                </h:form>
                                            </td>
                                        </tr>
                                    </c:forEach>
                                </tbody>
                            </table>
                            <p class="checkout">
                            </p>
                        </div>
                    </div>
                    <div class="clear">
                    </div>
                </div>
                <div style="height: 10px">
                </div>
            </div>
        </ui:composition>
    </h:body>
</html>
