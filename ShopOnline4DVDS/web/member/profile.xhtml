<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this template, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:c="http://java.sun.com/jsp/jstl/core">
    <h:head>
        <title>Profile</title>
    </h:head>
    <h:body>
        <c:if test="#{sessionScope.member==null}">
            #{facesContext.externalContext.redirect("login.xhtml")}
        </c:if>
        <table>
            <tr>
                <th>Name</th><td>#{sessionScope.member.name}</td>
            </tr>
            <tr>
                <th>Email</th><td>#{sessionScope.member.email}</td>
            </tr>
            <tr>
                <th>Join date</th><td>#{sessionScope.member.joinedDate}</td>
            </tr>
            <tr>
                <th>Modify date</th><td>#{sessionScope.member.modifiedDate}</td>
            </tr>
        </table>
        <h:form>
            <div><h:commandLink value="Logout" action="#{memberBean.logout()}"/></div>
        <table style="text-align: center; margin: 0 auto">
            <tr>
                <th>Name</th><td><h:inputText value="#{memberBean.name}" /></td>
            </tr>
            <tr>
                <th>Password</th><td><h:inputSecret value="#{memberBean.password}"/></td>
            </tr>
            <tr>
                <th>Retype password</th><td><h:inputSecret value="#{memberBean.repassword}"/></td>
            </tr>
            <tr>
                <td colspan="2" style="color: red">#{requestScope.result}</td>
            </tr>
            <tr>
                <td colspan="2" style="color: green">#{requestScope.resultok}</td>
            </tr>
            <tr><td colspan="2"><h:commandButton value="Change info" action="#{memberBean.modify()}"/></td></tr>
        </table>
        </h:form>
    </h:body>
</html>
