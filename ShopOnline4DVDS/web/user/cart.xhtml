<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:gct="http://g3.com/tags"
      xmlns:f="http://java.sun.com/jsf/core">
    <h:head>
        <title>Facelet Title</title>
    </h:head>
    <h:body>
        <ui:composition template="/WEB-INF/template/customerTemplate_1.xhtml">
            <ui:define name="content">
                <h:form>
                    <h:panelGroup rendered="#{(cartManagedBean.totalItems) == 0}">
                        <div class="content-indent">
                            <div id="vmMainPage">
                                <h2 class="title">Cart</h2><div style="padding:20px 0px 0px 0px;">

                                    Your Cart is currently empty. <br/></div><div style="padding:14px 0px 0px 0px; overflow:hidden; width:235px;">
                                    <h:link outcome="welcome" class="continue_link png">
                                        <span>Continue Shopping</span>
                                    </h:link>
                                </div>
                                <div id="statusBox" style="text-align:center;display:none;visibility:hidden;"></div></div>
                        </div>

                    </h:panelGroup>
                    <h:panelGroup rendered="#{(cartManagedBean.totalItems) != 0}">

                        <div class="content-indent">
                            <div id="vmMainPage">
                                <h2 class="title">Cart</h2>
                                <div style="padding:20px 0px 0px 0px;">
                                    <div class="basket">
                                        <table width="99%" cellspacing="0" cellpadding="0" border="0">
                                            <tbody><tr align="left" class="sectiontableheader">
                                                    <td class="first"><span>Name</span></td>
                                                    <td class="three"><span>Price</span></td>
                                                    <td class="four"><span>Quantity / Update</span></td>
                                                    <td class="last"><span>Subtotal</span></td>
                                                </tr>
                                                <ui:repeat var="item" varStatus="stt" value="#{cartManagedBean.listCart}">
                                                    <tr valign="top" class="sectiontableentry1 png">
                                                        <td class="first"><span>
                                                                <h:link target="_blank" outcome="details">
                                                                    <f:param name="productid" value="#{item.product.id}"></f:param>
                                                                    <strong>#{item.product.title}</strong>
                                                                </h:link><br/>
                                                            </span></td>
                                                        <td class="three"><span>$ #{item.product.price}</span></td>
                                                        <td class="four">
                                                            <span><strong class="left1">

                                                                    <h:inputText class="inputbox" size="4" maxlength="4" name="quantity" value="#{item.count}"></h:inputText>
                                                                    <h:commandLink action="cart">
                                                                        <input type="image" name="update" title="Update Quantity In Cart" src="/ShopOnline4DVDS/resources/customerver2/images/update_quantity_cart.png" alt="Update" align="middle"/>
                                                                    </h:commandLink>

                                                                </strong>
                                                                <strong class="left2">
                                                                    <h:commandLink action="#{cartManagedBean.removeAll(item.product.id)}">
                                                                        <input type="image" name="delete" title="Delete Product From Cart" src="/ShopOnline4DVDS/resources/customerver2/images/remove_from_cart.png" alt="Delete Product From Cart" align="middle"/>
                                                                    </h:commandLink>

                                                                </strong>
                                                            </span>
                                                        </td>
                                                        <td class="last">
                                                            <span>
                                                                <h:outputText value="#{item.totalPrice}">
                                                                    <f:convertNumber pattern="#0.00"></f:convertNumber>
                                                                </h:outputText>
                                                            </span></td>
                                                    </tr>
                                                </ui:repeat>



                                                <tr class="sectiontableentry1 aft">
                                                    <td colspan="3" align="right"><span>Subtotal:</span></td>
                                                    <td colspan="2" align="left" class="last">
                                                        <span> $ <h:outputText value="#{cartManagedBean.total}">
                                                                <f:convertNumber pattern="#0.00"></f:convertNumber>
                                                            </h:outputText>
                                                        </span></td>
                                                </tr>
                                                <tr class="sectiontableentry1 aft">
                                                    <td colspan="3" align="right" valign="top"><span>Tax Total:</span></td>
                                                    <td colspan="2" align="left" class="last"><span>$ 0</span></td>
                                                </tr>
                                                <tr class="sectiontableentry1 aft1">
                                                    <td colspan="3" align="right"><span>Total:</span></td>
                                                    <td colspan="2" align="left"><strong>$ <h:outputText value="#{cartManagedBean.total}">
                                                                <f:convertNumber pattern="#0.00"></f:convertNumber>
                                                            </h:outputText></strong></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <div class="coupon_code">
                                        <table width="100%" style="margin-top:10px;">
                                            <tbody>
                                                <tr class="sectiontableentry1">
                                                    <td width="100%">
                                                        <strong style="float:left;">If you have a coupon code, please enter it below: </strong>
                                                        <input type="text" name="coupon_code" id="coupon_code" width="10" maxlength="30" class="inputbox"/>

                                                        <input type="submit" value="Submit" class="button"/>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                <div style="padding:14px 0px 0px 0px; overflow:hidden; width:235px;">
                                    <div style="text-align:left; position:relative;">
                                        <span class="arrow"></span><a href="#" title="Checkout" class="checkout_link png">Checkout</a> 
                                    </div>
                                </div>
                                <div id="statusBox" style="text-align:center;display:none;visibility:hidden;"></div>
                            </div>
                        </div>

                    </h:panelGroup>
                </h:form>
            </ui:define>
        </ui:composition>
    </h:body>
</html>

