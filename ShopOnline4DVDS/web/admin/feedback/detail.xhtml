<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:gct="http://g3.com/tags"
      xmlns:c="http://java.sun.com/jsp/jstl/core">
    <h:body>
        <ui:composition template="/WEB-INF/template/adminTemplate_1.xhtml">
            <ui:define name="content">
                <div class="full_w">
                    <div class="h_title">Feedback detail</div>

                    <div>
                        <c:if test="#{feebackBean.result=='1'}">
                            <b style="color: Green">Reply successful!</b>
                        </c:if>
                        <c:if test="#{feebackBean.result=='0'}">
                            <b style="color: red">Reply Error!</b>
                        </c:if>
                        <h:form>
                            <table id="print">
                                <tr>
                                    <td>ID: </td><td>#{feedbackBean.detailId}<br/></td>
                                </tr>
                                <tr>
                                    <td>Submit date: </td><td>#{feedbackBean.detail.createdDate}<br/></td>
                                </tr>
                                <tr>
                                    <td>Customer: </td><td>#{feedbackBean.customer.name}<br/></td>
                                </tr>
                                <tr>
                                    <td>Status: </td><td>
                                        <h:outputText rendered="#{feedbackBean.detail.isRead==false}" value="Unread"/>
                                        <h:outputText rendered="#{feedbackBean.detail.isRead==true}" value="Read"/>
                                        <br/>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Feedback content: </td><td>#{feedbackBean.detail.feedbackText}<br/></td>
                                </tr>
                                <tr>
                                    <td>Reply date: </td><td>#{feedbackBean.detail.modifiedDate}<br/></td>
                                </tr>

                                <tr>
                                    <td>Replied: </td>
                                    <td>
                                        <h:outputText rendered="#{feedbackBean.detail.isRead==true}" value="#{feedbackBean.detail.replyText}"/>
                                        <h:inputTextarea rendered="#{feedbackBean.detail.isRead==false}" cols="50" rows="20" value="#{feedbackBean.updateStatus}"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="2"><h:commandButton rendered="#{feedbackBean.detail.isRead==false}" class="button" value="Reply" action="#{feedbackBean.reply()}"/></td>
                                </tr>
                            </table>
                        </h:form>
                        <br/>
                        <a href="show.xhtml">Return to Feedbacks</a>
                    </div>
                </div>
            </ui:define>
        </ui:composition>
    </h:body>
</html>