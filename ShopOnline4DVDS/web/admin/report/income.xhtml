<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:gct="http://g3.com/tags"
      xmlns:c="http://java.sun.com/jsp/jstl/core">
    <h:head>

    </h:head>
    <h:body>
        <ui:composition template="/WEB-INF/template/adminTemplate_1.xhtml">
            <ui:define name="title">
                <title>Report</title>
            </ui:define>
            <ui:define name="content">

                <div class="full_w">
                    <div class="h_title">Report: Income by Month of Year</div>
                    <table>
                        <tr>
                            <td>Select year (yyyy): </td>
                            <td>
                                <h:form>
                                    <h:inputText value="#{reportBean.myyear}" styleClass="datepicker" valueChangeListener="#{reportBean.changeYear()}">
                                    </h:inputText><h:commandButton value="View" action="#{reportBean.changeYear()}"/></h:form>
                            </td>
                        </tr>
                    </table>
                    <script type="text/javascript">
                        $(function () {
                            $('#container').highcharts({
                                chart: {
                                    type: 'line'
                                },
                                title: {
                                    text: 'Income by #{reportBean.myyear}'
                                },
                                subtitle: {
                                    text: 'FPT Aptech S4_G3_C1007L'
                                },
                                xAxis: {
                                    categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']
                                },
                                yAxis: {
                                    title: {
                                        text: 'Income'
                                    }
                                },
                                tooltip: {
                                    enabled: true,
                                    formatter: function() {
                                        return '<b>'+ this.series.name +'</b><br/>'+
                                            this.x +': '+ this.y +'';
                                    }
                                },
                                plotOptions: {
                                    line: {
                                        dataLabels: {
                                            enabled: true
                                        },
                                        enableMouseTracking: false
                                    }
                                },
                                series: [{
                                        name: 'DVD Music (USD)',
                                        data: [#{reportBean.musicincomedata}]
                                    }, {
                                        name: 'DVD Movie (USD)',
                                        data: [#{reportBean.movieincomedata}]
                                    }, {
                                        name: 'DVD Game (USD)',
                                        data: [#{reportBean.gameincomedata}]
                                    }]
                            });
                        });
    

                    </script>
                    <a href="orderstatus.xhtml">Orders status</a> | <a href="overview.xhtml">Overview</a> | <a href="thebestselling.xhtml">The best selling</a> | <a href="vipcustomer.xhtml">VIP Customer</a>
                    <script src="/ShopOnline4DVDS/resources/chart2/js/highcharts.js"></script>
                    <script src="/ShopOnline4DVDS/resources/chart2/js/modules/exporting.js"></script>
                    <div id="container" style="min-width: 400px; height: 400px; margin: 0 auto"></div>
                </div>
            </ui:define>
        </ui:composition>

    </h:body>
</html>
