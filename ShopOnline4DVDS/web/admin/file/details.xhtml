<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>Facelet Title</title>
    </h:head>
    <h:body>
        <ui:composition template="/WEB-INF/template/adminTemplate.xhtml">
            <ui:define name="content">
                <p:dialog modal="true" widgetVar="statusDialog" header="Status" draggable="false" closable="false" resizable="false">  
                    <p:graphicImage value="/resources/images/ajaxloadingbar.gif" />  
                </p:dialog> 
                <h:form>
                    <h:link value="Return List" outcome="show"></h:link><br/>
                    <h:link value="Recovery" outcome="recovery"></h:link><br/>
                    <h:commandLink value="Back" action="#{fileDataManagedBean.back}"></h:commandLink><br/>
                    ID : #{fileDataManagedBean.curFileData.id}<br/>
                    Title : #{fileDataManagedBean.curFileData.title}<br/>
                    Url : <p:commandButton id="downloadLink" value="Download" ajax="false" 
                                           onclick="PrimeFaces.monitorDownload(start, stop)" 
                                           icon="ui-icon-arrowthichk-s">  
                        <p:fileDownload value="#{fileDataManagedBean.download}" />  
                    </p:commandButton>  <br/>
                    Type : #{fileDataManagedBean.curFileData.type}<br/>
                    View Count : #{fileDataManagedBean.curFileData.viewCount}<br/>
                    Created Date : #{fileDataManagedBean.curFileData.createdDate}<br/>
                    Modified Date : #{fileDataManagedBean.curFileData.modifiedDate}<br/>
                    Is Deleted : #{fileDataManagedBean.curFileData.isDeleted}<br/>
                </h:form>
                <script type="text/javascript">  
                    function start() {  
                        statusDialog.show();  
                    }  
  
                    function stop() {  
                        statusDialog.hide();  
                    }  
                </script>  
            </ui:define>
        </ui:composition>
    </h:body>
</html>

